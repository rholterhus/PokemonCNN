(this["webpackJsonpreact-example"]=this["webpackJsonpreact-example"]||[]).push([[0],{36:function(e,t,a){e.exports=a(59)},41:function(e,t,a){},48:function(e,t){},49:function(e,t){},50:function(e,t){},51:function(e,t){},52:function(e,t){},53:function(e,t){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(31),i=a.n(r),l=(a(41),a(5)),c=a.n(l),s=a(14),u=a(8),d=(a(54),a(11)),p=a(12),h=a(20),g=a(18),m=a(21),b=a(2),f={container:{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:"0"},middle:{width:"100%",height:"20%",padding:"0",display:"flex",justifyContent:"center"},mainCircle:{position:"absolute",height:"150px",width:"150px",borderRadius:"100px 100px 100px 100px",backgroundColor:"black"},centerLine:{position:"absolute",height:"5px",width:"100%",padding:"0",backgroundColor:"black",zIndex:"10"},topSemiCircle:{position:"absolute",transform:"translate(0, -44px)",height:"30px",width:"120px",borderRadius:"100px 100px 0 0",backgroundColor:"white",cursor:"pointer"},bottomSemiCircle:{position:"absolute",transform:"translate(0, 44px)",height:"30px",width:"120px",borderRadius:"0 0 100px 100px",backgroundColor:"white",cursor:"pointer"},blackbar:{position:"absolute",backgroundColor:"black",height:"15%",width:"100%",padding:"0"}},y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={navigateToUpload:!1,navigateToDraw:!1},a.setHovered=function(e){e.target.style.backgroundColor="gray"},a.setUnhovered=function(e){e.target.style.backgroundColor="white"},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return this.state.navigateToUpload?o.a.createElement(b.a,{to:"/upload",push:!0}):this.state.navigateToDraw?o.a.createElement(b.a,{to:"/draw",push:!0}):o.a.createElement("div",{style:f.container},o.a.createElement("div",{style:f.middle},o.a.createElement("div",{style:f.blackbar}),o.a.createElement("div",{style:f.mainCircle}),o.a.createElement("div",{style:f.centerLine}),o.a.createElement("div",{style:f.topSemiCircle,onMouseEnter:this.setHovered,onMouseLeave:this.setUnhovered,onClick:function(){return e.setState({navigateToUpload:!0})}},"Upload Image"),o.a.createElement("div",{style:f.bottomSemiCircle,onMouseEnter:this.setHovered,onMouseLeave:this.setUnhovered,onClick:function(){return e.setState({navigateToDraw:!0})}},"Free Draw")))}}]),t}(o.a.Component),v=a(33),w=a(27),k=a(19),x=a(34),E=a(35),C=Object(k.a)({container:{height:"100%",width:"100%",padding:"0",color:"white",backgroundColor:"white"},leftContainer:{height:"100%",width:"33%",position:"absolute",top:"0",left:"0",padding:"0",color:"white",backgroundColor:"white",justifyContent:"center"},rightContainer:{height:"100%",width:"67%",position:"absolute",top:"0",right:"0",padding:"0",color:"white",backgroundColor:"white",justifyContent:"center"},uploader:{backgroundColor:"red"},label:{backgroundImage:'url("https://www.pngitem.com/pimgs/m/95-958057_whos-that-pokemon-hd-png-download.png")',backgroundSize:"cover",backgroundRepeat:"no-repeat",border:"black 0",height:"280px",cursor:"pointer"}},"label",{backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",top:"200px",height:"280px",cursor:"pointer"}),O=["Bulbasaur","Charmander","Pikachu","Squirtle","Vileplume"],j={Bulbasaur:"green",Charmander:"red",Pikachu:"yellow",Squirtle:"blue",Vileplume:"purple"},S=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={imageUrl:"http://drive.google.com/uc?export=view&id=1Kk_LESmkulyV36WiPegCn6eeW1algMVk",model:null,prediction:"UPLOAD IMAGE",data:[]},a.handleUpload=function(e){var t=e.target.files;e.target.files[0];if(t.length>0){var n=URL.createObjectURL(e.target.files[0]);a.setState({imageUrl:n});var o=new Image;o.crossOrigin="Anonymous",o.src=n,o.onload=function(){a.getPrediction(o),a.setBackgroundColor(o)}}},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getModel()}},{key:"componentDidUpdate",value:function(){console.log("updatin")}},{key:"getModel",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(u.b("https://cors-anywhere.herokuapp.com/http://68.151.168.50:8000/files/model.json"));case 2:e=t.sent,this.setState({model:e}),console.log("got model");case 5:case"end":return t.stop()}}),null,this)}},{key:"getPrediction",value:function(e){var t,a,n,o;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.a.fromPixels(e).resizeBilinear([96,96]),t=u.c(t,[1,96,96,3]).div(255),r.next=4,c.a.awrap(this.state.model.predict(t));case 4:a=r.sent,n=a.arraySync()[0],console.log(n),o=n.map((function(e,t){return[e,O[t]]})).sort((function(e,t){return e[0]-t[0]})).slice(3),console.log(o),this.setState({prediction:O[n.indexOf(Math.max.apply(Math,Object(w.a)(n)))]+" "+String(Math.max.apply(Math,Object(w.a)(n))),data:o.map((function(e){return{title:e[1],value:e[0],color:j[e[1]]}}))});case 10:case"end":return r.stop()}}),null,this)}},{key:"setBackgroundColor",value:function(e){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:(new x.a).getColorAsync(e).then((function(e){console.log(e)}));case 2:case"end":return t.stop()}}))}},{key:"render",value:function(){var e=null==this.state.model?"https://media0.giphy.com/media/3oEjI6SIIHBdRxXI40/200.gif":this.state.imageUrl;return o.a.createElement("div",{style:C.container,id:"container"},o.a.createElement("div",{style:C.leftContainer,id:"leftContainer"},o.a.createElement("defs",null,o.a.createElement("pattern",{id:"img1",patternUnits:"userSpaceOnUse",width:"100",height:"100"},o.a.createElement("image",{href:"https://static.pokemonpets.com/images/monsters-images-300-300/7-Squirtle.png",x:"0",y:"0",width:"100",height:"100"}))),o.a.createElement("label",{htmlFor:"upload",id:"pokelabel",style:Object(v.a)({},C.label,{backgroundImage:'url("'+e+'")'})}),o.a.createElement("input",{style:{display:"none"},type:"file",accept:"image/*",capture:"camera",onChange:this.handleUpload,id:"upload"})),o.a.createElement("div",{style:C.rightContainer,id:"rightContainer"},o.a.createElement("div",{style:{color:"black"}},this.state.prediction),"UPLOAD IMAGE"==this.state.prediction?null:o.a.createElement(E.PieChart,{segmentsStyle:{fill:"url(#img1)"},onMouseOver:function(e,t){return e.target.style.strokeOpacity="0.5"},onMouseOut:function(e,t){return e.target.style.strokeOpacity="1"},animate:!0,label:function(e){var t=e.dataEntry;return o.a.createElement("h5",null,t.title)},data:this.state.data})))}}]),t}(o.a.Component),R=a(17),U={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"modelReady"}},modelReady:{on:{next:"imageReady"}},imageReady:{on:{next:"identifying"},showImage:!0},identifying:{on:{next:"complete"}},complete:{on:{next:"modelReady"},showImage:!0,showResults:!0}}};var M=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=(t[0],t[1],Object(n.useState)(null)),r=Object(s.a)(a,2),i=(r[0],r[1],Object(n.useState)(null)),l=Object(s.a)(i,2),c=(l[0],l[1],Object(n.useRef)(),Object(n.useRef)(),Object(n.useReducer)((function(e,t){return U.states[e].on[t]||U.initial}),U.initial)),u=Object(s.a)(c,2),d=u[0],p=(u[1],U.states[d]);return p.showImage,p.showResults,o.a.createElement(R.a,{basename:"/PokemonCNN"},o.a.createElement(b.d,null,o.a.createElement(b.b,{exact:!0,path:"/"},o.a.createElement(y,null)),o.a.createElement(b.b,{path:"/upload"},o.a.createElement(S,null)),o.a.createElement(b.b,{path:"/draw"},o.a.createElement("div",null,"DRAW SCREEN!!!!!!")),o.a.createElement(b.b,null,o.a.createElement("div",null,"ERROR NOT FOUND"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.53a48517.chunk.js.map